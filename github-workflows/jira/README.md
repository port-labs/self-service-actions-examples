# Jira self-service actions

## Report a bug - Jira example

### Overview

An example of creating a Jira bug from Port using Port's self service actions.

### Prerequisites

- [Jira API token](https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/) with permissions to create new issues
- [Port's GitHub app](https://github.com/apps/getport-io) installed

### Quickstart - Create a Jira issue from Port

1. Create the following GitHub action secrets

- JIRA_API_TOKEN - [Jira API token](https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account) generated by the user
- JIRA_BASE_URL - The URL of your Jira organization
- JIRA_USER_EMAIL - The email of the Jira user that owns the Jira API token
- PORT_CLIENT_ID - Your port [client id]([How to get the credentials](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/api/#find-your-port-credentials))
- PORT_CLIENT_SECRET - Your port [client secret]([How to get the credentials](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/api/#find-your-port-credentials))

2. Install the Ports GitHub app from [here](https://github.com/apps/getport-io/installations/new).

3. Optional - Install Port's Jira integration [learn more](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/project-management/jira#installation)

   > **Note** This step is not required for this example, but it will create all the blueprint boilerplate for you, and also update the catalog in real time with the new issue created.

4. Creating the action in Port
   > Note: You can add this action to the `Service` or `Jira Issue` blueprints

```json
[
  {
    "identifier": "report_a_bug",
    "title": "Report a bug",
    "icon": "Jira",
    "userInputs": {
      "properties": {
        "description": {
          "icon": "DefaultProperty",
          "title": "Description",
          "type": "string"
        },
        "short_title": {
          "icon": "DefaultProperty",
          "title": "Short title",
          "type": "string"
        }
      },
      "required": [
        "short_title",
        "description"
      ],
      "order": [
        "short_title",
        "description"
      ]
    },
    "invocationMethod": {
      "type": "GITHUB",
      "omitPayload": false,
      "omitUserInputs": false,
      "reportWorkflowStatus": true,
      "repo": "<Enter GitHub repository>",
      "org": "<Enter GitHub organization>",
      "workflow": "jira.yml"
    },
    "trigger": "CREATE",
    "description": "Report a bug in Port to our product team.",
    "requiredApproval": false
  }
]
```

5. Create a workflow file under `.github/workflows/report-a-bug.yaml` and copy the workflow [here](report-a-bug.yml):

6. Trigger the action from Port's [Self Service hub](https://app.getport.io/self-serve)

7. Done! wait for the bug to be created in Jira

Congrats ðŸŽ‰ You've created your first bug in Jira from Port!

## Open Jira Issue with automatic label - Jira example

### Overview

An example of creating a Jira issue with a label to the concerned service.

### Prerequisites

- [Jira API token](https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/) with permissions to create new issues
- [Port's GitHub app](https://github.com/apps/getport-io) installed

### Quickstart - Open Jira Issue with automatic label from Port

1. Create the following GitHub action secrets

- JIRA_API_TOKEN - [Jira API token](https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account) generated by the user
- JIRA_BASE_URL - The URL of your Jira organization
- JIRA_USER_EMAIL - The email of the Jira user that owns the Jira API token
- PORT_CLIENT_ID - Your port [client id]([How to get the credentials](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/api/#find-your-port-credentials))
- PORT_CLIENT_SECRET - Your port [client secret]([How to get the credentials](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/api/#find-your-port-credentials))

2. Install the Ports GitHub app from [here](https://github.com/apps/getport-io/installations/new).

3. Optional - Install Port's Jira integration [learn more](https://docs.getport.io/build-your-software-catalog/sync-data-to-catalog/project-management/jira#installation)

   > **Note** This step is not required for this example, but it will create all the blueprint boilerplate for you, and also update the catalog in real time with the new issue created.

4. Creating the action in Port
   > Note: You can add this action to the `Service` or `Jira Issue` blueprints

```json
[
  {
    "identifier": "open_jira_issue_with_automatic_label",
    "title": "Open Jira Issue with automatic label",
    "icon": "Jira",
    "userInputs": {
      "properties": {
        "title": {
          "title": "Title",
          "description": "Title of the Jira issue",
          "icon": "Jira",
          "type": "string"
        },
        "type": {
          "title": "Type",
          "description": "Issue type",
          "icon": "Jira",
          "type": "string",
          "default": "Task",
          "enum": [
            "Task",
            "Story",
            "Bug",
            "Epic"
          ],
          "enumColors": {
            "Task": "blue",
            "Story": "green",
            "Bug": "red",
            "Epic": "pink"
          }
        }
      },
      "required": [
        "title",
        "type"
      ],
      "order": [
        "title",
        "type"
      ]
    },
    "invocationMethod": {
      "type": "GITHUB",
      "org": "<Enter GitHub organization>",
      "repo": "<Enter GitHub repository>",
      "workflow": "open-jira-issue-with-automatic-label.yml",
      "omitUserInputs": false,
      "omitPayload": false,
      "reportWorkflowStatus": true
    },
    "trigger": "CREATE",
    "description": "Creates a Jira issue with a label to the concerned service.",
    "requiredApproval": false
  }
]
```

5. Create a workflow file under `.github/workflows/open-jira-issue-with-automatic-label.yml` and copy the workflow [here](./open-jira-issue-with-automatic-label.yml).

6. Trigger the action from Port's [Self Service hub](https://app.getport.io/self-serve)

7. Done! wait for the issue to be created in Jira

Congrats ðŸŽ‰ You've created your first issue with an automatic label in Jira from Port!

**Note:** The workflow requires you to set the `project key` and `service name` as specified in this section of the workflow file:

```yaml
        with:
          project: <PROJECT-KEY> # replace <PROJECT-KEY> with the project key.
          issuetype: ${{github.event.inputs.type}}
          summary: ${{github.event.inputs.title}}
          fields: '{"labels": ["port-<service-name>"]}' # replace <service-name> with name of service.
```